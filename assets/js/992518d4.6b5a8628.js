"use strict";(self.webpackChunksaasready_docs=self.webpackChunksaasready_docs||[]).push([[909],{592(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"troubleshooting","title":"Troubleshooting & FAQs","description":"Solutions to common issues when setting up or running SaaSReady. Find answers to frequently asked questions about authentication and multi-tenancy.","source":"@site/../docs/troubleshooting.md","sourceDirName":".","slug":"/troubleshooting","permalink":"/saasready/docs/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/ramprag/saasready/edit/master/docs/../docs/troubleshooting.md","tags":[],"version":"current","frontMatter":{"title":"Troubleshooting & FAQs","description":"Solutions to common issues when setting up or running SaaSReady. Find answers to frequently asked questions about authentication and multi-tenancy.","keywords":["SaaSReady troubleshooting","auth error fixes","multi-tenant auth faqs","self-hosted auth help"]},"sidebar":"tutorialSidebar","previous":{"title":"Initial Setup & Configuration","permalink":"/saasready/docs/setup-guide"},"next":{"title":"How to Add Multi-Tenant Authentication to Your SaaS App","permalink":"/saasready/docs/tutorials/multi-tenant-auth-guide"}}');var r=s(4848),o=s(8453);const t={title:"Troubleshooting & FAQs",description:"Solutions to common issues when setting up or running SaaSReady. Find answers to frequently asked questions about authentication and multi-tenancy.",keywords:["SaaSReady troubleshooting","auth error fixes","multi-tenant auth faqs","self-hosted auth help"]},l="Troubleshooting",a={},d=[{value:"Authentication Issues",id:"authentication-issues",level:2},{value:"&quot;Could not validate credentials&quot;",id:"could-not-validate-credentials",level:3},{value:"&quot;Organization not found&quot; after registration",id:"organization-not-found-after-registration",level:3},{value:"&quot;Failed to invite user&quot;",id:"failed-to-invite-user",level:3},{value:"&quot;403 Forbidden&quot; on protected endpoints",id:"403-forbidden-on-protected-endpoints",level:3},{value:"Database Issues",id:"database-issues",level:2},{value:"Connection refused",id:"connection-refused",level:3},{value:"Migration errors",id:"migration-errors",level:3},{value:"Redis Issues",id:"redis-issues",level:2},{value:"Rate limiter not working",id:"rate-limiter-not-working",level:3},{value:"Email Issues",id:"email-issues",level:2},{value:"Invitation emails not sending",id:"invitation-emails-not-sending",level:3},{value:"Frontend Issues",id:"frontend-issues",level:2},{value:"&quot;Network Error&quot; or CORS errors",id:"network-error-or-cors-errors",level:3},{value:"&quot;Hydration mismatch&quot; in Next.js",id:"hydration-mismatch-in-nextjs",level:3},{value:"Docker Issues",id:"docker-issues",level:2},{value:"Container won&#39;t start",id:"container-wont-start",level:3},{value:"&quot;Secret key not set&quot; error",id:"secret-key-not-set-error",level:3},{value:"Performance Issues",id:"performance-issues",level:2},{value:"Slow API responses",id:"slow-api-responses",level:3},{value:"Getting Help",id:"getting-help",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,r.jsx)(n.p,{children:"Common issues and solutions for SaaSReady platform."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"authentication-issues",children:"Authentication Issues"}),"\n",(0,r.jsx)(n.h3,{id:"could-not-validate-credentials",children:'"Could not validate credentials"'}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Token expired"}),"\n",(0,r.jsx)(n.li,{children:"Token malformed"}),"\n",(0,r.jsx)(n.li,{children:"Token on blacklist (logged out)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Check token expiry with ",(0,r.jsx)(n.a,{href:"https://jwt.io",children:"jwt.io"})]}),"\n",(0,r.jsx)(n.li,{children:"Login again to get fresh token"}),"\n",(0,r.jsxs)(n.li,{children:["Ensure ",(0,r.jsx)(n.code,{children:"Authorization: Bearer <token>"})," header is correct"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"organization-not-found-after-registration",children:'"Organization not found" after registration'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause:"})," Database transaction timing"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"})," Refresh page or navigate to ",(0,r.jsx)(n.code,{children:"/orgs"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"failed-to-invite-user",children:'"Failed to invite user"'}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Checklist:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 User has ",(0,r.jsx)(n.code,{children:"user.invite"})," permission"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 Role ID exists (",(0,r.jsx)(n.code,{children:"GET /orgs/{org_id}/roles"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Email is valid format"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Email service is configured"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Debug:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'docker-compose logs backend | grep "Email"\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"403-forbidden-on-protected-endpoints",children:'"403 Forbidden" on protected endpoints'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause:"})," Missing permissions"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"})," Check user's role has required permission"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# View roles and permissions\nGET /api/v1/orgs/{org_id}/roles\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"database-issues",children:"Database Issues"}),"\n",(0,r.jsx)(n.h3,{id:"connection-refused",children:"Connection refused"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause:"})," PostgreSQL not running"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check status\ndocker-compose ps db\n\n# View logs\ndocker-compose logs db\n\n# Restart\ndocker-compose restart db\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"migration-errors",children:"Migration errors"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Common fixes:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd backend\n\n# Check current state\nalembic current\n\n# Try upgrade again\nalembic upgrade head\n\n# If stuck, stamp current\nalembic stamp head\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"redis-issues",children:"Redis Issues"}),"\n",(0,r.jsx)(n.h3,{id:"rate-limiter-not-working",children:"Rate limiter not working"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause:"})," Redis not connected"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Test connection\nredis-cli -h localhost -p 6379 -a your-password ping\n\n# Should return: PONG\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fallback:"})," Without Redis, rate limiting uses in-memory (not distributed)"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"email-issues",children:"Email Issues"}),"\n",(0,r.jsx)(n.h3,{id:"invitation-emails-not-sending",children:"Invitation emails not sending"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Checklist:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["SMTP variables configured in ",(0,r.jsx)(n.code,{children:".env"})]}),"\n",(0,r.jsx)(n.li,{children:"EMAIL_FROM is verified with provider"}),"\n",(0,r.jsxs)(n.li,{children:["Check worker logs: ",(0,r.jsx)(n.code,{children:"docker-compose logs worker"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test email manually:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'python3 << EOF\nfrom app.services.email_service import email_service\nimport asyncio\n\nasyncio.run(email_service.send_verification_email(\n    "test@example.com",\n    "https://example.com/verify"\n))\nEOF\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"frontend-issues",children:"Frontend Issues"}),"\n",(0,r.jsx)(n.h3,{id:"network-error-or-cors-errors",children:'"Network Error" or CORS errors'}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Checklist:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"NEXT_PUBLIC_API_URL"})," set correctly"]}),"\n",(0,r.jsx)(n.li,{children:"Backend running on port 8000"}),"\n",(0,r.jsx)(n.li,{children:"CORS configured for frontend origin"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Check CORS in ",(0,r.jsx)(n.code,{children:"backend/app/main.py"}),":"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'allow_origins=["http://localhost:3000"]  # Add your frontend URL\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"hydration-mismatch-in-nextjs",children:'"Hydration mismatch" in Next.js'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause:"})," Server/client HTML mismatch"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"})," Ensure localStorage access is client-side only:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const [token, setToken] = useState<string | null>(null);\nuseEffect(() => {\n    setToken(localStorage.getItem('token'));\n}, []);\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"docker-issues",children:"Docker Issues"}),"\n",(0,r.jsx)(n.h3,{id:"container-wont-start",children:"Container won't start"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check logs:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose logs backend\ndocker-compose logs frontend\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Common causes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Missing environment variables"}),"\n",(0,r.jsx)(n.li,{children:"Port already in use"}),"\n",(0,r.jsx)(n.li,{children:"Volume permission issues"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Reset:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose down -v\ndocker-compose up --build\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"secret-key-not-set-error",children:'"Secret key not set" error'}),"\n",(0,r.jsxs)(n.p,{children:["Your ",(0,r.jsx)(n.code,{children:"SECRET_KEY"})," is empty or a placeholder."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fix:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Generate key\npython3 -c "import secrets; print(secrets.token_urlsafe(64))"\n\n# Add to backend/.env\nSECRET_KEY=<paste-generated-key>\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"performance-issues",children:"Performance Issues"}),"\n",(0,r.jsx)(n.h3,{id:"slow-api-responses",children:"Slow API responses"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Database connection pooling"}),"\n",(0,r.jsx)(n.li,{children:"N+1 queries in logs"}),"\n",(0,r.jsx)(n.li,{children:"Redis connection"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Quick fix:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Increase workers\ngunicorn app.main:app --workers 4\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub Issues"}),": ",(0,r.jsx)(n.a,{href:"https://github.com/ramprag/saasready/issues",children:"github.com/ramprag/saasready/issues"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Discussions"}),": ",(0,r.jsx)(n.a,{href:"https://github.com/ramprag/saasready/discussions",children:"github.com/ramprag/saasready/discussions"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Docs"}),": ",(0,r.jsx)(n.a,{href:"http://localhost:8000/docs",children:"http://localhost:8000/docs"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>l});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);
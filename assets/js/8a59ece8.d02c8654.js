"use strict";(self.webpackChunksaasready_docs=self.webpackChunksaasready_docs||[]).push([[591],{2416(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"framework-examples","title":"Framework Integration Examples","description":"Learn how to integrate SaaSReady with FastAPI, Django, and Flask. Practical code examples for multi-tenant authentication in Python.","source":"@site/../docs/framework-examples.md","sourceDirName":".","slug":"/framework-examples","permalink":"/saasready/docs/framework-examples","draft":false,"unlisted":false,"editUrl":"https://github.com/ramprag/saasready/edit/master/docs/../docs/framework-examples.md","tags":[],"version":"current","frontMatter":{"title":"Framework Integration Examples","description":"Learn how to integrate SaaSReady with FastAPI, Django, and Flask. Practical code examples for multi-tenant authentication in Python.","keywords":["fastapi multi-tenant example","django auth integration","flask rbac","python saas auth"]},"sidebar":"tutorialSidebar","previous":{"title":"Platform Features","permalink":"/saasready/docs/features"},"next":{"title":"SaaSReady Documentation","permalink":"/saasready/docs/"}}');var a=r(4848),s=r(8453);const i={title:"Framework Integration Examples",description:"Learn how to integrate SaaSReady with FastAPI, Django, and Flask. Practical code examples for multi-tenant authentication in Python.",keywords:["fastapi multi-tenant example","django auth integration","flask rbac","python saas auth"]},o="Framework Integration Examples",l={},d=[{value:"FastAPI Integration",id:"fastapi-integration",level:2},{value:"Django Integration",id:"django-integration",level:2},{value:"Middleware",id:"middleware",level:3},{value:"Settings",id:"settings",level:3},{value:"Views",id:"views",level:3},{value:"Decorator",id:"decorator",level:3},{value:"Flask Integration",id:"flask-integration",level:2},{value:"Basic Setup",id:"basic-setup",level:3},{value:"Flask Blueprint",id:"flask-blueprint",level:3},{value:"Organization Context",id:"organization-context",level:2},{value:"Permission Checking",id:"permission-checking",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Next Steps",id:"next-steps",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"framework-integration-examples",children:"Framework Integration Examples"})}),"\n",(0,a.jsx)(n.p,{children:"Examples for integrating SaaSReady authentication into popular Python frameworks."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"fastapi-integration",children:"FastAPI Integration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, Header\nfrom saasready import SaaSReady, AuthenticationError\n\napp = FastAPI()\nauth_client = SaaSReady(base_url="http://localhost:8000")\n\nasync def get_current_user(authorization: str = Header(None)):\n    """Dependency to get authenticated user"""\n    if not authorization:\n        raise HTTPException(401, "Not authenticated")\n    \n    token = authorization.replace("Bearer ", "")\n    auth_client.set_token(token)\n    \n    try:\n        return auth_client.auth.me()\n    except AuthenticationError:\n        raise HTTPException(401, "Invalid token")\n\n@app.get("/protected")\nasync def protected_route(user = Depends(get_current_user)):\n    return {"message": f"Hello {user.email}"}\n\n@app.get("/public")\nasync def public_route():\n    return {"message": "This is public"}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"django-integration",children:"Django Integration"}),"\n",(0,a.jsx)(n.h3,{id:"middleware",children:"Middleware"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# middleware.py\nfrom saasready import SaaSReady, AuthenticationError\n\nclass SaaSReadyMiddleware:\n    def __init__(self, get_response):\n        self.get_response = get_response\n        self.client = SaaSReady(base_url=\"http://localhost:8000\")\n    \n    def __call__(self, request):\n        token = request.META.get('HTTP_AUTHORIZATION', '').replace('Bearer ', '')\n        \n        if token:\n            try:\n                self.client.set_token(token)\n                request.saasready_user = self.client.auth.me()\n            except AuthenticationError:\n                request.saasready_user = None\n        else:\n            request.saasready_user = None\n        \n        return self.get_response(request)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"settings",children:"Settings"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# settings.py\nMIDDLEWARE = [\n    # ... other middleware\n    'yourapp.middleware.SaaSReadyMiddleware',\n]\n"})}),"\n",(0,a.jsx)(n.h3,{id:"views",children:"Views"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# views.py\nfrom django.http import JsonResponse\n\ndef protected_view(request):\n    if not request.saasready_user:\n        return JsonResponse({"error": "Unauthorized"}, status=401)\n    \n    return JsonResponse({\n        "message": f"Hello {request.saasready_user.email}"\n    })\n'})}),"\n",(0,a.jsx)(n.h3,{id:"decorator",children:"Decorator"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# decorators.py\nfrom functools import wraps\nfrom django.http import JsonResponse\n\ndef require_auth(view_func):\n    @wraps(view_func)\n    def wrapper(request, *args, **kwargs):\n        if not request.saasready_user:\n            return JsonResponse({"error": "Unauthorized"}, status=401)\n        return view_func(request, *args, **kwargs)\n    return wrapper\n\n# Usage\n@require_auth\ndef my_protected_view(request):\n    return JsonResponse({"user": request.saasready_user.email})\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"flask-integration",children:"Flask Integration"}),"\n",(0,a.jsx)(n.h3,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# app.py\nfrom flask import Flask, request, g, jsonify\nfrom functools import wraps\nfrom saasready import SaaSReady, AuthenticationError\n\napp = Flask(__name__)\nauth_client = SaaSReady(base_url="http://localhost:8000")\n\ndef require_auth(f):\n    @wraps(f)\n    def decorated(*args, **kwargs):\n        token = request.headers.get(\'Authorization\', \'\').replace(\'Bearer \', \'\')\n        \n        if not token:\n            return jsonify({"error": "Missing token"}), 401\n        \n        try:\n            auth_client.set_token(token)\n            g.user = auth_client.auth.me()\n        except AuthenticationError:\n            return jsonify({"error": "Invalid token"}), 401\n        \n        return f(*args, **kwargs)\n    return decorated\n\n@app.route(\'/protected\')\n@require_auth\ndef protected():\n    return jsonify({"message": f"Hello {g.user.email}"})\n\n@app.route(\'/public\')\ndef public():\n    return jsonify({"message": "This is public"})\n'})}),"\n",(0,a.jsx)(n.h3,{id:"flask-blueprint",children:"Flask Blueprint"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# auth_blueprint.py\nfrom flask import Blueprint, g, jsonify\nfrom functools import wraps\nfrom saasready import SaaSReady, AuthenticationError\n\nauth_bp = Blueprint(\'auth\', __name__)\nclient = SaaSReady(base_url="http://localhost:8000")\n\ndef login_required(f):\n    @wraps(f)\n    def decorated(*args, **kwargs):\n        from flask import request\n        token = request.headers.get(\'Authorization\', \'\').replace(\'Bearer \', \'\')\n        \n        if not token:\n            return jsonify({"error": "Unauthorized"}), 401\n        \n        try:\n            client.set_token(token)\n            g.current_user = client.auth.me()\n        except AuthenticationError:\n            return jsonify({"error": "Invalid token"}), 401\n        \n        return f(*args, **kwargs)\n    return decorated\n\n@auth_bp.route(\'/me\')\n@login_required\ndef me():\n    return jsonify({\n        "id": g.current_user.id,\n        "email": g.current_user.email,\n        "full_name": g.current_user.full_name\n    })\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"organization-context",children:"Organization Context"}),"\n",(0,a.jsx)(n.p,{children:"For multi-tenant applications, you often need organization context:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# Any framework\nfrom saasready import SaaSReady\n\nclient = SaaSReady(base_url="http://localhost:8000")\n\ndef get_current_org(user, org_slug):\n    """Get organization by slug if user is a member"""\n    client.set_token(user.token)\n    orgs = client.orgs.list()\n    \n    for org in orgs:\n        if org.slug == org_slug:\n            return org\n    \n    return None  # User not in this org\n\n# Usage in route\n@app.route(\'/<org_slug>/dashboard\')\n@require_auth\ndef org_dashboard(org_slug):\n    org = get_current_org(g.user, org_slug)\n    if not org:\n        return jsonify({"error": "Not a member of this organization"}), 403\n    \n    return jsonify({"org": org.name, "user": g.user.email})\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"permission-checking",children:"Permission Checking"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# permissions.py\nfrom functools import wraps\nfrom flask import g, jsonify\n\ndef require_permission(permission: str):\n    """Decorator to require specific permission"""\n    def decorator(f):\n        @wraps(f)\n        def decorated(*args, org_id=None, **kwargs):\n            # Get membership and check permission\n            members = client.orgs.list_members(org_id)\n            user_membership = next(\n                (m for m in members if m.user_id == g.user.id), \n                None\n            )\n            \n            if not user_membership:\n                return jsonify({"error": "Not a member"}), 403\n            \n            # Check role permissions (simplified)\n            role = user_membership.role_name\n            if role not in [\'owner\', \'admin\'] and permission.startswith(\'user.\'):\n                return jsonify({"error": "Insufficient permissions"}), 403\n            \n            return f(*args, org_id=org_id, **kwargs)\n        return decorated\n    return decorator\n\n# Usage\n@app.route(\'/orgs/<org_id>/invite\', methods=[\'POST\'])\n@require_auth\n@require_permission(\'user.invite\')\ndef invite_member(org_id):\n    # Only owners/admins can invite\n    pass\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from saasready import (\n    SaaSReadyError,\n    AuthenticationError,\n    AuthorizationError,\n    ValidationError,\n    RateLimitError,\n    NotFoundError\n)\n\n@app.errorhandler(AuthenticationError)\ndef handle_auth_error(e):\n    return jsonify({"error": "Authentication failed", "detail": str(e)}), 401\n\n@app.errorhandler(AuthorizationError)\ndef handle_authz_error(e):\n    return jsonify({"error": "Permission denied", "detail": str(e)}), 403\n\n@app.errorhandler(RateLimitError)\ndef handle_rate_limit(e):\n    return jsonify({\n        "error": "Rate limit exceeded",\n        "retry_after": e.retry_after\n    }), 429\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/saasready/docs/api-reference",children:"API Reference"})," - All endpoints"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/saasready/docs/features",children:"Features Guide"})," - 2FA, sessions, email"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://github.com/ramprag/saasready/blob/main/SDK_README.md",children:"SDK Documentation"})," - Full SDK reference"]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},8453(e,n,r){r.d(n,{R:()=>i,x:()=>o});var t=r(6540);const a={},s=t.createContext(a);function i(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);